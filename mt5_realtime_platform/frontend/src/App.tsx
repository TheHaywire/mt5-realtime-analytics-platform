import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { Toaster } from 'react-hot-toast';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { WebSocketProvider } from './contexts/WebSocketContext';\nimport { ProtectedRoute } from './components/auth/ProtectedRoute';\nimport { LoginPage } from './pages/LoginPage';\nimport { DashboardPage } from './pages/DashboardPage';\nimport { StrategiesPage } from './pages/StrategiesPage';\nimport { AlertsPage } from './pages/AlertsPage';\nimport { AnalyticsPage } from './pages/AnalyticsPage';\nimport { AccountPage } from './pages/AccountPage';\nimport { Layout } from './components/layout/Layout';\nimport './App.css';\n\n// Create a client for React Query\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: 1,\n      staleTime: 5 * 60 * 1000, // 5 minutes\n    },\n  },\n});\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <WebSocketProvider>\n          <Router>\n            <div className=\"App min-h-screen bg-gray-50\">\n              <Routes>\n                {/* Public routes */}\n                <Route path=\"/login\" element={<LoginPage />} />\n                \n                {/* Protected routes with layout */}\n                <Route path=\"/\" element={\n                  <ProtectedRoute>\n                    <Layout />\n                  </ProtectedRoute>\n                }>\n                  <Route index element={<Navigate to=\"/dashboard\" replace />} />\n                  <Route path=\"dashboard\" element={<DashboardPage />} />\n                  <Route path=\"strategies\" element={<StrategiesPage />} />\n                  <Route path=\"analytics\" element={<AnalyticsPage />} />\n                  <Route path=\"alerts\" element={<AlertsPage />} />\n                  <Route path=\"account\" element={<AccountPage />} />\n                </Route>\n                \n                {/* Fallback route */}\n                <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n              </Routes>\n              \n              {/* Global toast notifications */}\n              <Toaster\n                position=\"top-right\"\n                toastOptions={{\n                  duration: 4000,\n                  style: {\n                    background: '#363636',\n                    color: '#fff',\n                  },\n                  success: {\n                    iconTheme: {\n                      primary: '#10B981',\n                      secondary: '#fff',\n                    },\n                  },\n                  error: {\n                    iconTheme: {\n                      primary: '#EF4444',\n                      secondary: '#fff',\n                    },\n                  },\n                }}\n              />\n            </div>\n          </Router>\n        </WebSocketProvider>\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;